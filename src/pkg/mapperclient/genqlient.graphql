query ServiceIntentsUpToMapperV017($namespaces: [String!]) {
    serviceIntents(namespaces: $namespaces) {
        client {
            ...NamespacedNameFragment
        }
        intents {
            ...NamespacedNameFragment
        }
    }
}

fragment NamespacedNameFragment on OtterizeServiceIdentity {
    name
    namespace
}


query ServiceIntentsWithLabels($namespaces: [String!], $includedLabels: [String!], $includeAllLabels: Boolean!) {
    serviceIntents(namespaces: $namespaces, includeLabels: $includedLabels, includeAllLabels: $includeAllLabels) {
        client {
            ...NamespacedNameFragment
            labels {
                key
                value
            }
            podOwnerKind {
                group
                version
                kind
            }
        }
        intents {
            ...NamespacedNameFragment
            labels {
                key
                value
            }
        }
    }
}

mutation ResetCapture {
    resetCapture
}